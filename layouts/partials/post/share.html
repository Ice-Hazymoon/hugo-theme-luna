{{- $url := .Permalink | safeURL -}}
{{- $text := (trim (replaceRE "\r?\n" "" (.Summary | plainify)) " ") | safeURL -}}
{{- $config := .Site.Params.share -}}
{{- if $config -}}
    <div class="px-6 pb-5 pt-4 text-center text-xl text-gray-500 md:px-10 md:pb-10 md:pt-14">
        {{- if (index $config "twitter") -}}
            <a
                class="mr-4 inline-flex h-5 w-5 items-center"
                title="{{- T "share.twitter" -}}"
                href="https://twitter.com/share?&text={{- $text -}}&url={{- $url -}}"
                target="_blank"
                rel="noopener noreferrer"
                ><i class="eva eva-twitter hover:text-theme"></i
            ></a>
        {{- end -}}
        {{- if (index $config "facebook") -}}
            <a
                class="mr-4 inline-flex h-5 w-5 items-center"
                title="{{- T "share.facebook" -}}"
                href="https://www.facebook.com/sharer.php?u={{- $url -}}"
                target="_blank"
                rel="noopener noreferrer"
                ><i class="eva eva-facebook hover:text-theme"></i
            ></a>
        {{- end -}}
        {{- if (index $config "weibo") -}}
            <a
                class="mr-4 inline-flex h-5 w-5 items-center"
                title="{{- T "share.weibo" -}}"
                href="https://service.weibo.com/share/share.php?url={{- $url -}}&title={{- .Title | safeURL -}}&sudaref={{- (urls.Parse $url).Host -}}"
                target="_blank"
                rel="noopener noreferrer"
            >
                <svg
                    class="inline-block h-5 w-5 fill-current hover:text-theme"
                    viewBox="0 0 1193 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="2681"
                    width="200"
                    height="200"
                >
                    <path
                        d="M456.991736 557.336482c-107.598583 0-194.644628 74.956316-194.644629 166.838252s87.046045 166.838253 194.644629 166.838253c107.598583 0 194.644628-74.956316 194.644628-166.838253s-87.046045-166.838253-194.644628-166.838252zM391.707202 822.101535c-36.269185 0-66.493506-27.806375-66.493507-62.866588s29.015348-62.866588 66.493507-62.866588c36.269185 0 66.493506 27.806375 66.493506 62.866588S427.976387 822.101535 391.707202 822.101535z m93.090909-91.881936c-14.507674 0-26.597403-12.089728-26.597403-26.597403s12.089728-26.597403 26.597403-26.597403 26.597403 12.089728 26.597403 26.597403-12.089728 26.597403-26.597403 26.597403zM239.376623 281.690673C97.9268 394.125148-18.134593 600.859504 30.224321 661.308146c32.642267 41.105077 59.239669-19.343566 124.524203-89.46399 30.224321-32.642267 77.374262-54.403778 122.106258-90.672964 20.552538-16.92562 197.062574-35.060213 230.913813-35.060212 97.9268-99.135773 114.85242-207.943329 74.956316-258.720189-48.358914-59.239669-201.898465-16.92562-343.348288 94.299882z"
                        p-id="2682"
                    ></path>
                    <path
                        d="M808.802834 560.9634C906.729634 461.827627 911.565525 377.199528 870.460449 326.422668c-47.149941-60.448642-211.570248-32.642267-351.811098 78.583235"
                        p-id="2683"
                    ></path>
                    <path
                        d="M605.695396 353.020071c-14.507674 8.46281-25.38843 12.089728-29.015349 7.253837-1.208973-2.417946-1.208973-6.044864 1.208973-9.671783-16.92562-1.208973-33.85124-1.208973-50.776859-1.208973C235.749705 349.393152 0 500.514758 0 686.696576s235.749705 337.303424 527.112161 337.303424 527.112161-151.121606 527.11216-337.303424c0-170.465171-194.644628-309.497048-448.528925-333.676505zM481.171192 959.924439C275.645809 959.924439 108.807556 847.489965 108.807556 708.458087s166.838253-251.466352 372.363636-251.466351 372.363636 112.434475 372.363637 251.466351-166.838253 251.466352-372.363637 251.466352z"
                        p-id="2684"
                    ></path>
                    <path
                        d="M1021.582054 423.140496c-3.626919 0-6.044864 0-9.671782-1.208973-18.134593-4.835891-29.015348-24.179457-22.970485-42.31405 2.417946-7.253837 3.626919-16.92562 3.626919-29.015348 0-65.284534-53.194805-119.688312-119.688312-119.688312-19.343566 0-33.85124-15.716647-33.851239-33.851239s15.716647-33.85124 33.851239-33.85124c103.971665 0 187.390791 84.628099 187.390791 187.390791 0 18.134593-2.417946 33.85124-6.044864 48.358914-4.835891 14.507674-18.134593 24.179457-32.642267 24.179457z"
                        p-id="2685"
                    ></path>
                    <path
                        d="M1146.106257 473.917355c-2.417946 0-6.044864 0-8.46281-1.208972-20.552538-4.835891-32.642267-25.38843-27.806375-45.940969 6.044864-24.179457 8.46281-47.149941 8.46281-71.329397C1118.299882 201.898465 991.357733 74.956316 836.609209 74.956316c-20.552538 0-37.478158-16.92562-37.478158-37.478158S816.056671 0 836.609209 0c197.062574 0 356.646989 159.584416 356.646989 356.646989 0 29.015348-3.626919 59.239669-10.880755 88.255018-3.626919 18.134593-19.343566 29.015348-36.269186 29.015348z"
                        p-id="2686"
                    ></path>
                </svg>
            </a>
        {{- end -}}
        {{- if (index $config "copyLinkText") -}}
            <i class="eva eva-copy mr-4 cursor-pointer hover:text-theme" title="{{- T "share.copy" -}}" data-clipboard-text="{{- $url -}}"></i>
        {{- end -}}
        {{- if (index $config "qrcode") -}}
            <div class="group relative hidden cursor-pointer sm:inline-block">
                <i title="{{- T "share.qrcode" -}}" class="eva show-qrcode eva-smartphone hover:text-theme"></i>
                <div
                    class="qrcode-wrapper pointer-events-none absolute left-2/4 bottom-10 h-32 w-32 -translate-x-1/2 overflow-hidden rounded border border-gray-300 bg-white opacity-0 transition duration-300 ease-[ease] group-hover:opacity-100"
                >
                    <img class="h-full w-full" src="https://www.lofter.com/genBitmaxImage?url={{- $url -}}" alt="{{- T "share.qrcode" -}}" />
                </div>
            </div>
        {{- end -}}
    </div>
{{- end -}}
