<h1 align="center">Hugo Theme Luna</h1>

<h3 align="center"><i>ä¸€ä¸ªç®€çº¦ï¼Œæ€§èƒ½ä¼˜å…ˆï¼ŒSEO å‹å¥½çš„ Hugo ä¸»é¢˜</i></h3>

<p align="center">
  <a href="https://github.com/gohugoio/hugo" target="_blank"><img src="https://img.shields.io/badge/Hugo-0.97-green?style=for-the-badge&logo=hugo&logoColor=white" /></a>
  <a href="https://github.com/Ice-Hazymoon/hugo-theme-luna/actions/workflows/main.yml" target="_blank"><img src="https://img.shields.io/github/workflow/status/Ice-Hazymoon/hugo-theme-luna/CI?style=for-the-badge&logo=github&logoColor=white" /></a>
  <a href="https://github.com/Ice-Hazymoon/hugo-theme-luna/blob/master/LICENSE" target="_blank"><img src="https://img.shields.io/github/license/Ice-Hazymoon/hugo-theme-luna?style=for-the-badge" /></a>
</p>

![Luna](https://raw.githubusercontent.com/Ice-Hazymoon/hugo-theme-luna/master/screenshots/luna.png)

[ğŸ‘‰åœ¨çº¿é¢„è§ˆ](https://hugo-theme-luna.imiku.me/zh-cn) | [English](https://github.com/Ice-Hazymoon/hugo-theme-luna/blob/master/README.md)

![](https://img.shields.io/github/last-commit/Ice-Hazymoon/hugo-theme-luna?style=flat-square) ![](https://img.shields.io/github/languages/code-size/Ice-Hazymoon/hugo-theme-luna?style=flat-square)

<details open>
<summary>ç›®å½•</summary>

- [ç‰¹æ€§](#ç‰¹æ€§)
- [ä½¿ç”¨](#ä½¿ç”¨)
  - [- ç¯å¢ƒ](#--ç¯å¢ƒ)
  - [- å®‰è£…ä¸»é¢˜](#--å®‰è£…ä¸»é¢˜)
  - [- æ›´æ–°ä¸»é¢˜](#--æ›´æ–°ä¸»é¢˜)
  - [- é…ç½®](#--é…ç½®)
  - [- è¯„è®ºç³»ç»Ÿ](#--è¯„è®ºç³»ç»Ÿ)
  - [- çŸ­ä»£ç ](#--çŸ­ä»£ç )
  - [- åŠ å¯†æ–‡ç« ](#--åŠ å¯†æ–‡ç« )
- [æ³¨æ„](#æ³¨æ„)
- [GitHub Action](#github-action)
- [è‡ªå®šä¹‰](#è‡ªå®šä¹‰)
- [å¼€å‘](#å¼€å‘)
- [æˆªå›¾ï¼š](#æˆªå›¾)
  - [- æ€§èƒ½æµ‹è¯•ï¼ˆå…³é—­ pjax å’Œ katex åï¼‰](#--æ€§èƒ½æµ‹è¯•å…³é—­-pjax-å’Œ-katex-å)
  - [- é¡µé¢æˆªå›¾](#--é¡µé¢æˆªå›¾)
- [è‡´è°¢](#è‡´è°¢)
- [License](#license)
</details>

## ç‰¹æ€§

- ä½¿ç”¨ [Tailwindcss](https://tailwindcss.com) æ„å»ºï¼Œç•Œé¢ç¾è§‚ï¼ŒSEOå‹å¥½
- åŠ¨æ€å¯¼å…¥ JS æ¨¡å—
- æ•°å­¦å…¬å¼ï¼Œä½¿ç”¨ [KaTeX](https://katex.org/)
- è‡ªå®šä¹‰ä¸»é¢˜é¢œè‰²å’Œå­—ä½“
- è½®æ’­å›¾
- ä¸°å¯Œçš„[çŸ­ä»£ç ](https://hugo-theme-luna.imiku.me/zh-cn/2022/05/02/shortcodes.html/)æ”¯æŒ
- å¤œé—´æ¨¡å¼
- [Bionic Reading](https://bionic-reading.com/) 
- ç”»å»Šæ¨¡å¼
- å›¾ç‰‡è‡ªåŠ¨å‹ç¼©ï¼Œæ”¯æŒ webp å‘ä¸‹å…¼å®¹
- æ”¯æŒæ–‡ç« åŠ å¯†ï¼ˆä»»ä½•æƒ…å†µä¸‹éƒ½è¯·å‹¿åŠ å¯†é‡è¦å†…å®¹ï¼‰
- å¤šè¯­è¨€åˆ‡æ¢æ”¯æŒ
- Google ç¿»è¯‘æ”¯æŒ
- PWA æ”¯æŒ
- Pjax æ— åˆ·æ–°åŠ è½½é¡µé¢ï¼Œä½¿ç”¨ [swup.js](https://swup.js.org/)
- å›¾ç‰‡æ‡’åŠ è½½
- noscript æ”¯æŒ
- æœ¬åœ°æœç´¢æ”¯æŒï¼Œä½¿ç”¨ [flexsearch](https://github.com/nextapps-de/flexsearch)
- Twitter é¡µé¢
- GitHub é¡µé¢
- å½’æ¡£é¡µé¢
- [GitHub Actions](https://github.com/features/actions) æ”¯æŒ
- å’Œæ›´å¤š......

## ä½¿ç”¨

### - ç¯å¢ƒ

æ³¨æ„ï¼Œåœ¨ä½¿ç”¨è¯¥ä¸»é¢˜ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ éµå¾ªä»¥ä¸‹ç¯å¢ƒ

- **hugo-extended** ç‰ˆæœ¬ >= 0.104.0
- **NodeJs** >= 16.0.0
- å·²å®‰è£… **postcss-cli**ï¼Œä½¿ç”¨ `npm install postcss-cli -g` å®‰è£…

ç¬¬ä¸€æ¬¡ä½¿ç”¨ Hugo å¯ä»¥å‚è€ƒå®˜æ–¹çš„å®‰è£…æ‰‹å†Œï¼š[https://gohugo.io/getting-started/installing/](https://gohugo.io/getting-started/installing/)

å¦‚æœä½ åœ¨ä½¿ç”¨ Windowsï¼Œæˆ‘æ¨èä½¿ç”¨ [Scoop](https://scoop.sh/) æ¥å®‰è£… Hugoï¼š

```bash
scoop install hugo-extended
```

### - å®‰è£…ä¸»é¢˜

åœ¨ Hugo æ ¹ç›®å½•æ‰§è¡Œ

```bash
git submodule add -b master https://github.com/Ice-Hazymoon/hugo-theme-luna themes/hugo-theme-luna
cd themes/hugo-theme-luna
npm install --production
```

åœ¨ä¸»é¢˜ [`exampleSite`](https://github.com/Ice-Hazymoon/hugo-theme-luna/tree/main/exampleSite) ç›®å½•æœ‰ä¸€ä¸ª [`config.yaml`](https://github.com/Ice-Hazymoon/hugo-theme-luna/blob/master/exampleSite/config.yaml) æ–‡ä»¶ï¼Œå°†è¯¥æ–‡ä»¶å¤åˆ¶åˆ°ä½ çš„ç«™ç‚¹ç›®å½•ä¸‹å¹¶æ ¹æ®éœ€æ±‚ä¿®æ”¹ç›¸å…³å†…å®¹ã€‚

### - æ›´æ–°ä¸»é¢˜

```bash
git submodule update --remote
```

### - é…ç½®

è¯·å‚è€ƒ [`config.yaml`](https://github.com/Ice-Hazymoon/hugo-theme-luna/blob/master/exampleSite/config.yaml) æ–‡ä»¶æ¥é…ç½®ä½ çš„åšå®¢

å¦‚æœä½ å–œæ¬¢ä½¿ç”¨ tomlï¼Œä½ å¯ä»¥åœ¨ [convert yaml to toml](https://www.convertsimple.com/convert-yaml-to-toml) è½¬æ¢å®ƒ

æ‰€æœ‰å›¾æ ‡å¯ä»¥åœ¨ [Eva icons](https://akveo.github.io/eva-icons) æŸ¥è¯¢

ä½ å¯ä»¥é€šè¿‡åˆ›å»º [assets/icon.png](https://github.com/Ice-Hazymoon/hugo-theme-luna/blob/master/exampleSite/assets/icon.png) æ–‡ä»¶æ¥ä¿®æ”¹ä½ çš„ç½‘ç«™å›¾æ ‡

### - è¯„è®ºç³»ç»Ÿ

ä½ å¯ä»¥è®¾ç½® `comments: false` æ¥å•ç‹¬å…³é—­é¡µé¢è¯„è®º

ç›®å‰é€‚é…çš„è¯„è®ºç³»ç»Ÿï¼š

- [giscus](https://giscus.app/)

è‡ªå®šä¹‰è¯„è®ºç³»ç»Ÿåœ¨ï¼š[layouts/partials/comments/provider/custom.html](https://github.com/Ice-Hazymoon/hugo-theme-luna/blob/master/layouts/partials/comments/provider/custom.html)

### - çŸ­ä»£ç 

Luna ä¸»é¢˜æ”¯æŒå¤§é‡çš„ Shortcodesï¼Œè¯·æŸ¥çœ‹ï¼š[Shortcodes](https://hugo-theme-luna.imiku.me/zh-cn/2022/05/02/shortcodes.html/)

### - åŠ å¯†æ–‡ç« 

æˆ‘å»ºè®®ä½ ä½¿ç”¨ä¸¤ä¸ªä»“åº“ç”¨æ¥ç®¡ç†ä½ çš„åšå®¢ï¼Œä¸€ä¸ªç§æœ‰ç”¨äºå­˜æ”¾åšå®¢çš„æºä»£ç ï¼Œä¸€ä¸ªå…¬å¼€ä»“åº“ç”¨äºå¯ç”¨ GitHub Pagesï¼Œå¦‚æœä½ éœ€è¦ä½¿ç”¨æ–‡ç« åŠ å¯†åŠŸèƒ½ï¼Œè¯·ä¸€å®šä¸è¦æŠŠä½ çš„æºä»£ç æ”¾åˆ°å…¬å¼€çš„ä»“åº“ä¸Šã€‚

**åŠ å¯†åŠŸèƒ½è¯·å‹¿åŠ å¯†ä»»ä½•é‡è¦å†…å®¹ï¼Œè¯·å°å¿ƒä½¿ç”¨ `.RawContent` ç­‰å‡½æ•°ï¼Œä»¥å…æš´éœ²æ­£æ–‡**

å¦‚æœä½ æ²¡ç”¨ä½¿ç”¨ [GitHub Actions](https://github.com/features/actions)ï¼Œå¹¶ä¸”ä½ éœ€è¦ä½¿ç”¨åŠ å¯†åŠŸèƒ½ï¼Œè¯·åœ¨æ¯æ¬¡ç”Ÿæˆç½‘ç«™ä¹‹åï¼Œæ‰§è¡Œä¸»é¢˜ç›®å½•ä¸‹çš„ [`hugo-encrypt.js`](https://github.com/Ice-Hazymoon/hugo-theme-luna/blob/master/hugo-encrypt.js) æ–‡ä»¶

````markdown
{{% hugo-encrypt 2022 %}}

è¿™é‡Œæ˜¯éœ€è¦åŠ å¯†çš„å†…å®¹

![åŠ å¯†å›¾ç‰‡æµ‹è¯•](test.jpg)

{{% /hugo-encrypt %}}
````

## æ³¨æ„

å¦‚æœä½ æ‰€åœ¨çš„å›½å®¶æˆ–åœ°åŒºæ— æ³•è®¿é—® Twitter æˆ– GitHubï¼Œè¯·ä¸è¦ä½¿ç”¨è¿™ä¸¤ä¸ªæ¨¡æ¿æ–‡ä»¶ï¼Œå¦åˆ™ä¼šå‡ºç°é”™è¯¯ã€‚

åšå®¢å†…å›¾ç‰‡å‡ä½¿ç”¨äº† Hugo çš„ [Image Processing](https://gohugo.io/content-management/image-processing/) åŠŸèƒ½ï¼Œè‡ªåŠ¨è£å‰ªæˆåˆé€‚çš„å¤§å°æ¥ä¼˜åŒ–é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œé¦–æ¬¡ç”Ÿæˆå¯èƒ½è¾ƒä¸ºè€—è´¹æ—¶é—´ã€‚

æœç´¢åŠŸèƒ½ä¸ºäº†å‡å°‘ json æ–‡ä»¶çš„ä½“ç§¯ï¼Œå»é™¤äº† shortcode å’Œä»£ç å—ç­‰å†…å®¹ï¼Œå¦‚æœæœ‰éœ€è¦ï¼Œä½ å¯ä»¥åœ¨ [è¿™é‡Œ](https://github.com/Ice-Hazymoon/hugo-theme-luna/blob/master/layout/_default/search.json) ä¿®æ”¹å®ƒ

å¦‚æœæ–‡ç« è¿‡æ—¶æé†’ä¸éµå¾ª Git ç‰ˆæœ¬æ—¶é—´çš„è¯è¯·è®¾ç½® `git config --global core.quotepath false`ï¼Œè¿™æ˜¯ Hugo çš„[é—®é¢˜](https://github.com/gohugoio/hugo/issues/9810)ï¼Œæˆ–è®¸åœ¨æœªæ¥çš„æ›´æ–°ä¸­ä¼šå¾—åˆ°è§£å†³ã€‚

å¦‚æœä½ å¼€å¯äº† pjax å¹¶ä¸”ä½¿ç”¨äº†é¢å¤–çš„ `<script>` æ ‡ç­¾ï¼Œè¯·åœ¨æ ‡ç­¾ä¸Šæ·»åŠ  `data-swup-reload-script` å±æ€§ï¼Œè¯·æŸ¥çœ‹ï¼š[https://swup.js.org/plugins/scripts-plugin](https://swup.js.org/plugins/scripts-plugin)

## GitHub Action

å°†è‡ªåŠ¨éƒ¨ç½²ä½ çš„åšå®¢åˆ°å…¬å¼€ä»“åº“

å¤åˆ¶ä¸»é¢˜æ ¹ç›®å½•çš„ [`.github/workflows/main_example.yml`](https://github.com/Ice-Hazymoon/hugo-theme-luna/blob/master/.github/workflows/main_example.yml) æ–‡ä»¶åˆ°ä½ çš„åšå®¢ `.github/workflows` ç›®å½•

ä¿®æ”¹ `external_repository`, `user_name`, `user_email` ç­‰å­—æ®µ

**æ³¨æ„ï¼šå¦‚æœä½ éœ€è¦å¯ç”¨åŠ å¯†åŠŸèƒ½ï¼Œä½ éœ€è¦æœ‰ä¸¤ä¸ª GitHub ä»“åº“ï¼Œä¸€ä¸ªç§æœ‰åº“ç”¨äºå­˜æ”¾æºä»£ç ï¼Œä¸€ä¸ªå…¬å¼€ä»“åº“ç”¨äºå­˜æ”¾åšå®¢ï¼Œ`external_repository` è¯·è®¾ç½®ä¸ºä½ åšå®¢çš„å…¬å¼€ä»“åº“**

å¦‚æœä½ åªæœ‰ä¸€ä¸ªä»“åº“ï¼Œè¯·ä¿®æ”¹ [`Deploy`](https://github.com/Ice-Hazymoon/hugo-theme-luna/blob/master/.github/workflows/main_example.yml#L45) è„šæœ¬éƒ¨åˆ†ï¼Œå‚è€ƒï¼š[actions-gh-pages](https://github.com/peaceiris/actions-gh-pages)

åœ¨ [https://github.com/settings/tokens](https://github.com/settings/tokens) åˆ›å»ºä¸€ä¸ªç”¨äºéƒ¨ç½²çš„ Tokenï¼Œä¿å­˜è¯¥ Token

åœ¨ **github.com/{username}/{project}/settings/secrets/actions** æ·»åŠ ä¸€ä¸ª `TOKEN` å­—æ®µï¼Œè¾“å…¥åˆšæ‰ç”Ÿæˆçš„ token

## è‡ªå®šä¹‰

å¦‚æœä½ éœ€è¦è‡ªå®šä¹‰ä¸»é¢˜ï¼Œæˆ‘å»ºè®®ä½ æ›´æ”¹ä»¥ä¸‹æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¿®æ”¹ä¸»é¢˜

- [custom.ts](https://github.com/Ice-Hazymoon/hugo-theme-luna/blob/assets/ts/custom.ts)
- [custom.scss](https://github.com/Ice-Hazymoon/hugo-theme-luna/blob/assets/sass/custom.scss)
- [custom/head.html](https://github.com/Ice-Hazymoon/hugo-theme-luna/blob/layouts/partials/custom/head.html)
- [custom/footer.html](https://github.com/Ice-Hazymoon/hugo-theme-luna/blob/layouts/partials/custom/footer.html)
- [custom/script.html](https://github.com/Ice-Hazymoon/hugo-theme-luna/blob/layouts/partials/custom/script.html)
- [custom/icons.html](https://github.com/Ice-Hazymoon/hugo-theme-luna/blob/master/layouts/partials/custom/icons.html)

å¦‚æœä½ ä¸æƒ³ä¿®æ”¹ä¸»é¢˜æ–‡ä»¶ï¼Œä½ å¯ä»¥åœ¨ç½‘ç«™æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ªåŒåçš„æ–‡ä»¶æ¥ä¿®æ”¹å®ƒï¼Œä¾‹å¦‚ï¼š`myblog/layouts/partials/custom/head.html`

## å¼€å‘

```sh
git clone https://github.com/Ice-Hazymoon/hugo-theme-luna/
cd hugo-theme-luna
npm install
hugo server -s ./exampleSite -D --themesDir "../.."
```

## æˆªå›¾ï¼š

> [https://imiku.me](https://imiku.me)

### - æ€§èƒ½æµ‹è¯•ï¼ˆå…³é—­ pjax å’Œ katex åï¼‰

| Lighthouse                                                                                                      | GTmetrix                                                                                                      |
| --------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------- |
| ![Lighthouse](https://raw.githubusercontent.com/Ice-Hazymoon/hugo-theme-luna/master/screenshots/lighthouse.png) | ![GTmetrix](https://raw.githubusercontent.com/Ice-Hazymoon/hugo-theme-luna/master/screenshots/gtmetrix.png) |

### - é¡µé¢æˆªå›¾

| <p align="center">é¦–é¡µ</p> ![Home](https://raw.githubusercontent.com/Ice-Hazymoon/hugo-theme-luna/master/screenshots/screen-home.png)           | <p align="center">é¦–é¡µ (å¤œé—´æ¨¡å¼)</p> ![Home(dark)](https://raw.githubusercontent.com/Ice-Hazymoon/hugo-theme-luna/master/screenshots/screen-home-dark.png) |
| ---------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| <p align="center">å½’æ¡£é¡µ</p> ![Archives](https://raw.githubusercontent.com/Ice-Hazymoon/hugo-theme-luna/master/screenshots/screen-archives.png) | <p align="center">å‹æƒ…é“¾æ¥</p> ![Links](https://raw.githubusercontent.com/Ice-Hazymoon/hugo-theme-luna/master/screenshots/screen-links.png)                 |
| <p align="center">Twitter</p> ![Twitter](https://raw.githubusercontent.com/Ice-Hazymoon/hugo-theme-luna/master/screenshots/screen-twitter.png)  | <p align="center">GitHub</p> ![GitHub](https://raw.githubusercontent.com/Ice-Hazymoon/hugo-theme-luna/master/screenshots/screen-github.png)                 |
| <p align="center">æœç´¢é¡µ</p> ![Search](https://raw.githubusercontent.com/Ice-Hazymoon/hugo-theme-luna/master/screenshots/screen-search.png)     | <p align="center">ç”»å»Šé¡µ</p> ![Gallery](https://raw.githubusercontent.com/Ice-Hazymoon/hugo-theme-luna/master/screenshots/screen-gallery.png)               |

## è‡´è°¢

- [Unsplash](https://unsplash.com/)
- [hugo-theme-even](https://github.com/olOwOlo/hugo-theme-even)
- [hugo-theme-stack](https://github.com/CaiJimmy/hugo-theme-stack)
- [hugo-encrypt](https://github.com/Izumiko/hugo-encrypt)
- [Some shortcodes](https://guanqr.com/tech/website/hugo-shortcodes-customization)
- [Carousel component](https://codepen.io/onediv/details/VaQbrq)

## License

ä¸»é¢˜ ä½¿ç”¨ [GPL V3.0](https://github.com/Ice-Hazymoon/hugo-theme-luna/blob/master/LICENSE) åè®®å¼€æºï¼Œè¯·éµå®ˆæ­¤åè®®è¿›è¡ŒäºŒæ¬¡å¼€å‘ç­‰ã€‚

æ‚¨**å¿…é¡»åœ¨é¡µè„šä¿ç•™ Luna ä¸»é¢˜çš„åç§°åŠå…¶é“¾æ¥**ï¼Œå¦åˆ™è¯·ä¸è¦ä½¿ç”¨è¯¥ä¸»é¢˜ã€‚
